# useSubscription

Hook to create a Nostr subscription

## Import

```ts
import { useSubscription } from '@lawallet/react';
```

## Usage

```tsx filename="index.tsx"
import { useSubscription } from '@lawallet/react';

function App() {
  const userPubkey: string = '9a9787e3e31c...20f63546b191e28d59';

  const { subscription, events } = useSubscription({
    filters: {
      [
        authors: [userPubkey]
        kinds: [1],
      ]
    },
    options: {
      closeOnEose: true
    },
    enabled: true,
    config
  });
}
```

## Parameters

```ts
import { type useSubscriptionParameters } from '@lawallet/react';
```

### filters

[`NDKFilter[]`](/react/glossary/ndk#ndkfilter)

- Array of filters for the subscription you want to start

```tsx filename="index.tsx"
import { useSubscription } from '@lawallet/react';

function App() {
  const { subscription, events } = useSubscription({
    filters: {
      [
        authors: ['9a9787e...e28d59']
        kinds: [1],
      ]
    },
    options: {
      closeOnEose: true
    },
    enabled: true
  });
}
```

### options

[`NDKSubscriptionOptions`](/react/glossary/ndk#ndksubscriptionoptions)

- Options for the subscription you want to start

```tsx filename="index.tsx"
import { useSubscription } from '@lawallet/react';
import { config } from './config';

function App() {
  const { subscription, events } = useSubscription({
    filters: {
      [
        authors: ['9a9787e...e28d59']
        kinds: [1],
      ]
    },
    options: {
      closeOnEose: true
    },
    enabled: true,
    config
  });
}
```

### enabled

`Boolean | undefined`

- Set this to false to disable this query from automatically running.
- The default parameter is true.

```tsx filename="index.tsx"
import { useSubscription } from '@lawallet/react';

function App() {
  const { subscription, events } = useSubscription({
    filters: {
      [
        authors: ['9a9787e...e28d59']
        kinds: [1],
      ]
    },
    options: {
      closeOnEose: true
    },
    enabled: true
  });
}
```

### config

`Config | undefined`

[`Config`](/react/createConfig#config) to use instead of retrieving from the from nearest [`LaWalletProvider`](/react/LaWalletProvider).

```tsx filename="index.tsx"
import { useCards } from '@lawallet/react';
import { config } from './config';

function App() {
  const { transactions } =useSubscription({
    filters: {
      [
        authors: ['9a9787e...e28d59']
        kinds: [1],
      ]
    },
    enabled: true,
    config
  });
}
```

## Return Type

```ts
import { type useSubscriptionReturns } from '@lawallet/react';
```

### subscription

[`NDKSubscription`](/react/glossary/ndk#ndksubscription)

Returns an instance of the subscription

### events

[`NDKEvent[]`](/react/glossary/ndk#ndkevent)

Returns an array of events received in the started subscription
